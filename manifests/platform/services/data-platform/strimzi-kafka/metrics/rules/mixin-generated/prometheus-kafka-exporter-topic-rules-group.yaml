# This manifest is auto-generated. Do not edit.
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  labels:
    app: strimzi
    role: alert-rules
  name: kafka-exporter-topic
spec:
  groups:
    - name: kafka-exporter-topic
      rules:
        - alert: UnderReplicatedPartition
          annotations:
            description: Topic  {{ $labels.topic }} has {{ $value }} under-replicated partition {{ $labels.partition }}
            summary: Topic has under-replicated partitions
          expr: kafka_topic_partition_under_replicated_partition > 0
          for: 10s
          labels:
            severity: warning
        - alert: TooLargeConsumerGroupLag
          annotations:
            description: Consumer group {{ $labels.consumergroup}} lag is too big ({{ $value }}) on topic {{ $labels.topic }}/partition {{ $labels.partition }}
            summary: Consumer group lag is too big
          expr: kafka_consumergroup_lag > 1000
          for: 10s
          labels:
            severity: warning
        - alert: NoMessageForTooLong
          annotations:
            description: There is no messages in topic {{ $labels.topic}}/partition {{ $labels.partition }} for 10 minutes
            summary: No message for 10 minutes
          expr: changes(kafka_topic_partition_current_offset[10m]) == 0
          for: 10s
          labels:
            severity: warning
